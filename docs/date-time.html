<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 7 날짜 및 시간 | Python &amp; R</title>
  <meta name="description" content="<p>이 책은 Python과 R의 비슷한 점과 차이점을 예제를 통해 알아보기 위한 책이다.
어느 하나가 다른 하나의 우위에 있음을 보이려는 의도가 아니며, Python 사용자가
R을 이해하거나 R 사용자가 Python을 이해하는 데 도움을 주기 위해 작성되었다.</p>" />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 7 날짜 및 시간 | Python &amp; R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="<p>이 책은 Python과 R의 비슷한 점과 차이점을 예제를 통해 알아보기 위한 책이다.
어느 하나가 다른 하나의 우위에 있음을 보이려는 의도가 아니며, Python 사용자가
R을 이해하거나 R 사용자가 Python을 이해하는 데 도움을 주기 위해 작성되었다.</p>" />
  <meta name="github-repo" content="youngroklee-ml/pynr" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 7 날짜 및 시간 | Python &amp; R" />
  
  <meta name="twitter:description" content="<p>이 책은 Python과 R의 비슷한 점과 차이점을 예제를 통해 알아보기 위한 책이다.
어느 하나가 다른 하나의 우위에 있음을 보이려는 의도가 아니며, Python 사용자가
R을 이해하거나 R 사용자가 Python을 이해하는 데 도움을 주기 위해 작성되었다.</p>" />
  

<meta name="author" content="이영록" />


<meta name="date" content="2022-07-04" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="interesting-differences.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Python & R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Overview</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#python"><i class="fa fa-check"></i><b>1.1</b> Python</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#r"><i class="fa fa-check"></i><b>1.2</b> R</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="dictionary-named-list-environment.html"><a href="dictionary-named-list-environment.html"><i class="fa fa-check"></i><b>2</b> 파이썬의 dictionary, 그리고 R의 named list와 environment</a>
<ul>
<li class="chapter" data-level="2.1" data-path="dictionary-named-list-environment.html"><a href="dictionary-named-list-environment.html#dictionary-in-python"><i class="fa fa-check"></i><b>2.1</b> Dictionary in Python</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="dictionary-named-list-environment.html"><a href="dictionary-named-list-environment.html#생성"><i class="fa fa-check"></i><b>2.1.1</b> 생성</a></li>
<li class="chapter" data-level="2.1.2" data-path="dictionary-named-list-environment.html"><a href="dictionary-named-list-environment.html#lookup"><i class="fa fa-check"></i><b>2.1.2</b> Lookup</a></li>
<li class="chapter" data-level="2.1.3" data-path="dictionary-named-list-environment.html"><a href="dictionary-named-list-environment.html#reference-semantics"><i class="fa fa-check"></i><b>2.1.3</b> Reference semantics</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="dictionary-named-list-environment.html"><a href="dictionary-named-list-environment.html#named-list-vs-environment-in-r"><i class="fa fa-check"></i><b>2.2</b> Named list vs environment in R</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="dictionary-named-list-environment.html"><a href="dictionary-named-list-environment.html#생성-1"><i class="fa fa-check"></i><b>2.2.1</b> 생성</a></li>
<li class="chapter" data-level="2.2.2" data-path="dictionary-named-list-environment.html"><a href="dictionary-named-list-environment.html#lookup-1"><i class="fa fa-check"></i><b>2.2.2</b> Lookup</a></li>
<li class="chapter" data-level="2.2.3" data-path="dictionary-named-list-environment.html"><a href="dictionary-named-list-environment.html#reference-semantics-1"><i class="fa fa-check"></i><b>2.2.3</b> Reference semantics</a></li>
<li class="chapter" data-level="2.2.4" data-path="dictionary-named-list-environment.html"><a href="dictionary-named-list-environment.html#uniqueness"><i class="fa fa-check"></i><b>2.2.4</b> Uniqueness</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="tuple-list-list.html"><a href="tuple-list-list.html"><i class="fa fa-check"></i><b>3</b> 파이썬의 tuple과 list, 그리고 R의 list</a>
<ul>
<li class="chapter" data-level="3.1" data-path="tuple-list-list.html"><a href="tuple-list-list.html#tuple-vs-list-in-python"><i class="fa fa-check"></i><b>3.1</b> Tuple vs list in Python</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="tuple-list-list.html"><a href="tuple-list-list.html#immutable-vs-mutable"><i class="fa fa-check"></i><b>3.1.1</b> Immutable vs mutable</a></li>
<li class="chapter" data-level="3.1.2" data-path="tuple-list-list.html"><a href="tuple-list-list.html#append-items"><i class="fa fa-check"></i><b>3.1.2</b> Append items</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="tuple-list-list.html"><a href="tuple-list-list.html#list-in-r"><i class="fa fa-check"></i><b>3.2</b> List in R</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="tuple-list-list.html"><a href="tuple-list-list.html#mutable-object"><i class="fa fa-check"></i><b>3.2.1</b> Mutable object</a></li>
<li class="chapter" data-level="3.2.2" data-path="tuple-list-list.html"><a href="tuple-list-list.html#append-items-1"><i class="fa fa-check"></i><b>3.2.2</b> Append items</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="array-vector.html"><a href="array-vector.html"><i class="fa fa-check"></i><b>4</b> 파이썬의 array, 그리고 R의 vector</a>
<ul>
<li class="chapter" data-level="4.1" data-path="array-vector.html"><a href="array-vector.html#파이썬의-array"><i class="fa fa-check"></i><b>4.1</b> 파이썬의 array</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="array-vector.html"><a href="array-vector.html#mutability"><i class="fa fa-check"></i><b>4.1.1</b> Mutability</a></li>
<li class="chapter" data-level="4.1.2" data-path="array-vector.html"><a href="array-vector.html#다른-타입의-원소-입력하기"><i class="fa fa-check"></i><b>4.1.2</b> 다른 타입의 원소 입력하기</a></li>
<li class="chapter" data-level="4.1.3" data-path="array-vector.html"><a href="array-vector.html#원소-추가하기"><i class="fa fa-check"></i><b>4.1.3</b> 원소 추가하기</a></li>
<li class="chapter" data-level="4.1.4" data-path="array-vector.html"><a href="array-vector.html#문자열-시퀀스"><i class="fa fa-check"></i><b>4.1.4</b> 문자열 시퀀스</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="array-vector.html"><a href="array-vector.html#r의-vector"><i class="fa fa-check"></i><b>4.2</b> R의 vector</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="array-vector.html"><a href="array-vector.html#mutability-1"><i class="fa fa-check"></i><b>4.2.1</b> Mutability</a></li>
<li class="chapter" data-level="4.2.2" data-path="array-vector.html"><a href="array-vector.html#다른-타입의-원소-입력하기-1"><i class="fa fa-check"></i><b>4.2.2</b> 다른 타입의 원소 입력하기</a></li>
<li class="chapter" data-level="4.2.3" data-path="array-vector.html"><a href="array-vector.html#원소-추가하기-1"><i class="fa fa-check"></i><b>4.2.3</b> 원소 추가하기</a></li>
<li class="chapter" data-level="4.2.4" data-path="array-vector.html"><a href="array-vector.html#문자열-시퀀스-1"><i class="fa fa-check"></i><b>4.2.4</b> 문자열 시퀀스</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="array-vector.html"><a href="array-vector.html#파이썬-numpy"><i class="fa fa-check"></i><b>4.3</b> 파이썬 NumPy</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="scalar.html"><a href="scalar.html"><i class="fa fa-check"></i><b>5</b> Scalar</a>
<ul>
<li class="chapter" data-level="5.1" data-path="scalar.html"><a href="scalar.html#파이썬"><i class="fa fa-check"></i><b>5.1</b> 파이썬</a></li>
<li class="chapter" data-level="5.2" data-path="scalar.html"><a href="scalar.html#r-1"><i class="fa fa-check"></i><b>5.2</b> R</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="interesting-differences.html"><a href="interesting-differences.html"><i class="fa fa-check"></i><b>6</b> 값을 다룰 때 흥미로운 차이점</a>
<ul>
<li class="chapter" data-level="6.1" data-path="interesting-differences.html"><a href="interesting-differences.html#큰-정수"><i class="fa fa-check"></i><b>6.1</b> 큰 정수</a></li>
<li class="chapter" data-level="6.2" data-path="interesting-differences.html"><a href="interesting-differences.html#결측값"><i class="fa fa-check"></i><b>6.2</b> 결측값</a></li>
<li class="chapter" data-level="6.3" data-path="interesting-differences.html"><a href="interesting-differences.html#문자열"><i class="fa fa-check"></i><b>6.3</b> 문자열</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="date-time.html"><a href="date-time.html"><i class="fa fa-check"></i><b>7</b> 날짜 및 시간</a>
<ul>
<li class="chapter" data-level="7.1" data-path="date-time.html"><a href="date-time.html#날짜"><i class="fa fa-check"></i><b>7.1</b> 날짜</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="date-time.html"><a href="date-time.html#파이썬-1"><i class="fa fa-check"></i><b>7.1.1</b> 파이썬</a></li>
<li class="chapter" data-level="7.1.2" data-path="date-time.html"><a href="date-time.html#r-2"><i class="fa fa-check"></i><b>7.1.2</b> R</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="date-time.html"><a href="date-time.html#날짜시간"><i class="fa fa-check"></i><b>7.2</b> 날짜/시간</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="date-time.html"><a href="date-time.html#파이썬-2"><i class="fa fa-check"></i><b>7.2.1</b> 파이썬</a></li>
<li class="chapter" data-level="7.2.2" data-path="date-time.html"><a href="date-time.html#r-3"><i class="fa fa-check"></i><b>7.2.2</b> R</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="date-time.html"><a href="date-time.html#시간"><i class="fa fa-check"></i><b>7.3</b> 시간</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="date-time.html"><a href="date-time.html#파이썬-3"><i class="fa fa-check"></i><b>7.3.1</b> 파이썬</a></li>
<li class="chapter" data-level="7.3.2" data-path="date-time.html"><a href="date-time.html#r-4"><i class="fa fa-check"></i><b>7.3.2</b> R</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Python &amp; R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="date-time" class="section level1 hasAnchor" number="7">
<h1><span class="header-section-number">Chapter 7</span> 날짜 및 시간<a href="date-time.html#date-time" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>날짜와 시간이 파이썬과 R에서 어떻게 저장되는지 알아보자. 날짜와 시간은 다루기 까다로운 부분들이 존재하기 때문에 이를 위한 패키지(예: R의 lubridate)들이 개발되어 있다. 하지만, 이 책에서는 사용자의 추가적인 설치 없이 기본적으로 제공되는 패키지/모듈에 기반하여 살펴보기로 하자. 따라서, 파이썬에서는 datetime 모듈에 기반하여 살펴볼 것이며, R에서는 base 패키지에 기반하여 살펴볼 것이다.</p>
<div id="날짜" class="section level2 hasAnchor" number="7.1">
<h2><span class="header-section-number">7.1</span> 날짜<a href="date-time.html#날짜" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="파이썬-1" class="section level3 hasAnchor" number="7.1.1">
<h3><span class="header-section-number">7.1.1</span> 파이썬<a href="date-time.html#파이썬-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>파이썬에서는 datetime 모듈의 date 클래스 객체로 날짜를 저장한다. 객체를 생성하는 가장 기본적인 방법으로는 year, month, day를 순서대로 생성자의 인자로 입력하는 방법이 있다.</p>
<div class="sourceCode" id="cb263"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb263-1"><a href="date-time.html#cb263-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> datetime <span class="im">import</span> date</span>
<span id="cb263-2"><a href="date-time.html#cb263-2" aria-hidden="true" tabindex="-1"></a>py_date <span class="op">=</span> date(<span class="dv">2022</span>, <span class="dv">7</span>, <span class="dv">5</span>)</span>
<span id="cb263-3"><a href="date-time.html#cb263-3" aria-hidden="true" tabindex="-1"></a>py_date</span></code></pre></div>
<pre><code>## datetime.date(2022, 7, 5)</code></pre>
<div class="sourceCode" id="cb265"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb265-1"><a href="date-time.html#cb265-1" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(py_date)</span></code></pre></div>
<pre><code>## &lt;class &#39;datetime.date&#39;&gt;</code></pre>
<p>다른 방법으로는 클래스 메서드 <code>date.fromisoformat()</code>를 사용하여 ISO 표준 형식의 날짜를 문자열로 입력하는 방법이 있다.</p>
<div class="sourceCode" id="cb267"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb267-1"><a href="date-time.html#cb267-1" aria-hidden="true" tabindex="-1"></a>date.fromisoformat(<span class="st">&#39;2022-07-05&#39;</span>)</span></code></pre></div>
<pre><code>## datetime.date(2022, 7, 5)</code></pre>
<p>파이썬의 date 클래스의 객체는 연, 월, 일의 세 가지 속성값을 지닌다.</p>
<div class="sourceCode" id="cb269"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb269-1"><a href="date-time.html#cb269-1" aria-hidden="true" tabindex="-1"></a>py_date.year</span></code></pre></div>
<pre><code>## 2022</code></pre>
<div class="sourceCode" id="cb271"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb271-1"><a href="date-time.html#cb271-1" aria-hidden="true" tabindex="-1"></a>py_date.month</span></code></pre></div>
<pre><code>## 7</code></pre>
<div class="sourceCode" id="cb273"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb273-1"><a href="date-time.html#cb273-1" aria-hidden="true" tabindex="-1"></a>py_date.day</span></code></pre></div>
<pre><code>## 5</code></pre>
<div id="day-differences" class="section level4 hasAnchor" number="7.1.1.1">
<h4><span class="header-section-number">7.1.1.1</span> Day differences<a href="date-time.html#day-differences" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>두 날짜를 <code>-</code> 연산자를 이용하여 빼면 timedelta 클래스의 객체를 반환한다.</p>
<div class="sourceCode" id="cb275"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb275-1"><a href="date-time.html#cb275-1" aria-hidden="true" tabindex="-1"></a>date.fromisoformat(<span class="st">&#39;2022-07-06&#39;</span>) <span class="op">-</span> py_date</span></code></pre></div>
<pre><code>## datetime.timedelta(days=1)</code></pre>
<div class="sourceCode" id="cb277"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb277-1"><a href="date-time.html#cb277-1" aria-hidden="true" tabindex="-1"></a>date.fromisoformat(<span class="st">&#39;2022-07-04&#39;</span>) <span class="op">-</span> py_date</span></code></pre></div>
<pre><code>## datetime.timedelta(days=-1)</code></pre>
<div class="sourceCode" id="cb279"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb279-1"><a href="date-time.html#cb279-1" aria-hidden="true" tabindex="-1"></a>date.fromisoformat(<span class="st">&#39;2023-01-01&#39;</span>) <span class="op">-</span> py_date</span></code></pre></div>
<pre><code>## datetime.timedelta(days=180)</code></pre>
<p>timedelta 객체는 두 날짜의 차이를 <code>days</code> 속성값으로 지닌다.</p>
<div class="sourceCode" id="cb281"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb281-1"><a href="date-time.html#cb281-1" aria-hidden="true" tabindex="-1"></a>(date.fromisoformat(<span class="st">&#39;2023-01-01&#39;</span>) <span class="op">-</span> py_date).days</span></code></pre></div>
<pre><code>## 180</code></pre>
</div>
<div id="offset" class="section level4 hasAnchor" number="7.1.1.2">
<h4><span class="header-section-number">7.1.1.2</span> Offset<a href="date-time.html#offset" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>기존 날짜에 어떠한 기간을 더하거나 뺀 날짜를 얻고자 할 때, 단순히 숫자를 더하거나 빼려고 시도하면 오류를 얻게 된다.</p>
<div class="sourceCode" id="cb283"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb283-1"><a href="date-time.html#cb283-1" aria-hidden="true" tabindex="-1"></a>py_date <span class="op">+</span> <span class="dv">180</span></span></code></pre></div>
<pre><code>## Error in py_call_impl(callable, dots$args, dots$keywords): TypeError: unsupported operand type(s) for +: &#39;datetime.date&#39; and &#39;int&#39;</code></pre>
<p>대신, 앞에서 보았던 timedelta 객체를 이용한다.</p>
<div class="sourceCode" id="cb285"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb285-1"><a href="date-time.html#cb285-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> datetime <span class="im">import</span> timedelta</span>
<span id="cb285-2"><a href="date-time.html#cb285-2" aria-hidden="true" tabindex="-1"></a>py_date <span class="op">+</span> timedelta(days<span class="op">=</span><span class="dv">180</span>)</span></code></pre></div>
<pre><code>## datetime.date(2023, 1, 1)</code></pre>
</div>
</div>
<div id="r-2" class="section level3 hasAnchor" number="7.1.2">
<h3><span class="header-section-number">7.1.2</span> R<a href="date-time.html#r-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>R에서는 <code>as.Date()</code> 함수에 ISO 표준 형식의 날짜를 문자열로 입력하여 Date 클래스 객체를 생성할 수 있다.</p>
<div class="sourceCode" id="cb287"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb287-1"><a href="date-time.html#cb287-1" aria-hidden="true" tabindex="-1"></a>r_date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">&quot;2022-07-05&quot;</span>)</span>
<span id="cb287-2"><a href="date-time.html#cb287-2" aria-hidden="true" tabindex="-1"></a>r_date</span></code></pre></div>
<pre><code>## [1] &quot;2022-07-05&quot;</code></pre>
<div class="sourceCode" id="cb289"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb289-1"><a href="date-time.html#cb289-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(r_date)</span></code></pre></div>
<pre><code>## [1] &quot;Date&quot;</code></pre>
<p>입력 문자열이 ISO 표준 형식이 아닌 경우, <code>format</code> 인자에 입력 문자열의 형식을 명시함으로써 값을 올바르게 읽을 수 있다.</p>
<div class="sourceCode" id="cb291"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb291-1"><a href="date-time.html#cb291-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.Date</span>(<span class="st">&quot;05/07/2022&quot;</span>, <span class="at">format =</span> <span class="st">&quot;%d/%m/%Y&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2022-07-05&quot;</code></pre>
<div class="sourceCode" id="cb293"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb293-1"><a href="date-time.html#cb293-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.Date</span>(<span class="st">&quot;Jul 5, 2022&quot;</span>, <span class="at">format =</span> <span class="st">&quot;%b %d, %Y&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2022-07-05&quot;</code></pre>
<p>R의 Date 클래스를 사용할 때 중요하게 이해할 점은, 이 클래스의 기반에 존재하는 값이 숫자형(double)이라는 점이다.</p>
<div class="sourceCode" id="cb295"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb295-1"><a href="date-time.html#cb295-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(r_date)</span></code></pre></div>
<pre><code>## [1] &quot;double&quot;</code></pre>
<p>클래스 속성을 제거하여, 생성한 날짜 객체의 기반에 있는 숫자값을 출력해 보자.</p>
<div class="sourceCode" id="cb297"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb297-1"><a href="date-time.html#cb297-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unclass</span>(r_date)</span></code></pre></div>
<pre><code>## [1] 19178</code></pre>
<p>이 숫자는 <code>1970-01-01</code>로부터 날이 얼마나 지났는지를 표현한다. 즉, <code>1970-01-01</code>은 <code>0</code>, <code>1970-01-02</code>는 <code>1</code>, <code>1969-12-31</code>은 <code>-1</code>의 값을 지닌다.</p>
<div class="sourceCode" id="cb299"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb299-1"><a href="date-time.html#cb299-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unclass</span>(<span class="fu">as.Date</span>(<span class="st">&quot;1970-01-01&quot;</span>))</span></code></pre></div>
<pre><code>## [1] 0</code></pre>
<div class="sourceCode" id="cb301"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb301-1"><a href="date-time.html#cb301-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unclass</span>(<span class="fu">as.Date</span>(<span class="st">&quot;1970-01-02&quot;</span>))</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb303"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb303-1"><a href="date-time.html#cb303-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unclass</span>(<span class="fu">as.Date</span>(<span class="st">&quot;1969-12-31&quot;</span>))</span></code></pre></div>
<pre><code>## [1] -1</code></pre>
<div id="day-differences-1" class="section level4 hasAnchor" number="7.1.2.1">
<h4><span class="header-section-number">7.1.2.1</span> Day differences<a href="date-time.html#day-differences-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>두 날짜 사이의 기간을 <code>-</code> 연산자를 사용하여 계산해 보자.</p>
<div class="sourceCode" id="cb305"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb305-1"><a href="date-time.html#cb305-1" aria-hidden="true" tabindex="-1"></a>r_diff <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">&quot;2023-01-01&quot;</span>) <span class="sc">-</span> r_date</span>
<span id="cb305-2"><a href="date-time.html#cb305-2" aria-hidden="true" tabindex="-1"></a>r_diff</span></code></pre></div>
<pre><code>## Time difference of 180 days</code></pre>
<p>이 객체의 클래스는 difftime이며, 그 기저에 있는 값의 형태는 숫자형(double)이다.</p>
<div class="sourceCode" id="cb307"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb307-1"><a href="date-time.html#cb307-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(r_diff)</span></code></pre></div>
<pre><code>## [1] &quot;difftime&quot;</code></pre>
<div class="sourceCode" id="cb309"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb309-1"><a href="date-time.html#cb309-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(r_diff)</span></code></pre></div>
<pre><code>## [1] &quot;double&quot;</code></pre>
<p>클래스 속성을 제거하여 값을 확인해 보자.</p>
<div class="sourceCode" id="cb311"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb311-1"><a href="date-time.html#cb311-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unclass</span>(r_diff)</span></code></pre></div>
<pre><code>## [1] 180
## attr(,&quot;units&quot;)
## [1] &quot;days&quot;</code></pre>
</div>
<div id="offset-1" class="section level4 hasAnchor" number="7.1.2.2">
<h4><span class="header-section-number">7.1.2.2</span> Offset<a href="date-time.html#offset-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>R의 Date 객체는 기본적으로 숫자형 데이터이므로, 여기에 숫자를 더하거나 빼서 편리하게 새로운 날짜를 얻을 수 있다.</p>
<div class="sourceCode" id="cb313"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb313-1"><a href="date-time.html#cb313-1" aria-hidden="true" tabindex="-1"></a>r_date <span class="sc">+</span> <span class="dv">180</span></span></code></pre></div>
<pre><code>## [1] &quot;2023-01-01&quot;</code></pre>
<p>물론, 명시적으로 difftime 객체를 생성하여 수행할 수도 있다.</p>
<div class="sourceCode" id="cb315"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb315-1"><a href="date-time.html#cb315-1" aria-hidden="true" tabindex="-1"></a>r_date <span class="sc">+</span> <span class="fu">as.difftime</span>(<span class="dv">180</span>, <span class="at">units =</span> <span class="st">&quot;days&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;2023-01-01&quot;</code></pre>
</div>
</div>
</div>
<div id="날짜시간" class="section level2 hasAnchor" number="7.2">
<h2><span class="header-section-number">7.2</span> 날짜/시간<a href="date-time.html#날짜시간" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>날짜 뿐만 아니라 시간을 함께 저장하는 데이터 종류를 살펴보자.</p>
<div id="파이썬-2" class="section level3 hasAnchor" number="7.2.1">
<h3><span class="header-section-number">7.2.1</span> 파이썬<a href="date-time.html#파이썬-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>datatime 모듈의 datetime 클래스가 이를 지원한다. 객체를 만들 때 생성자에 앞에서 살펴보았던 연, 월, 일 외에 추가로 시간, 분, 초, 마이크로초(0 ~ 999999)를 입력하여 생성할 수 있다.</p>
<div class="sourceCode" id="cb317"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb317-1"><a href="date-time.html#cb317-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> datetime <span class="im">import</span> datetime</span>
<span id="cb317-2"><a href="date-time.html#cb317-2" aria-hidden="true" tabindex="-1"></a>py_datetime <span class="op">=</span> datetime(<span class="dv">2022</span>, <span class="dv">7</span>, <span class="dv">5</span>, <span class="dv">12</span>, <span class="dv">34</span>, <span class="dv">56</span>, <span class="dv">987654</span>)</span>
<span id="cb317-3"><a href="date-time.html#cb317-3" aria-hidden="true" tabindex="-1"></a>py_datetime</span></code></pre></div>
<pre><code>## datetime.datetime(2022, 7, 5, 12, 34, 56, 987654)</code></pre>
<div class="sourceCode" id="cb319"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb319-1"><a href="date-time.html#cb319-1" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(py_datetime)</span></code></pre></div>
<pre><code>## &lt;class &#39;datetime.datetime&#39;&gt;</code></pre>
<p>이 때, 마이크로초는 정수여야 하며, 더 작은 단위의 시간을 입력하려 실수형을 입력하면 오류가 발생한다.</p>
<div class="sourceCode" id="cb321"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb321-1"><a href="date-time.html#cb321-1" aria-hidden="true" tabindex="-1"></a>datetime(<span class="dv">2022</span>, <span class="dv">7</span>, <span class="dv">5</span>, <span class="dv">12</span>, <span class="dv">34</span>, <span class="dv">56</span>, <span class="fl">987654.3</span>)</span></code></pre></div>
<pre><code>## Error in py_call_impl(callable, dots$args, dots$keywords): TypeError: integer argument expected, got float</code></pre>
<p>클래스 메서드 <code>fromisoformat()</code>을 이용하여 문자열 형태의 표현으로부터 datetime 클래스 객체를 생성할 수 있다. <strong>주의: 초를 소수점 이하 세 자리, 즉, 밀리초까지만 입력할 수 있으며, 네 자리 이상 입력하려 시도하면 오류가 발생한다.</strong></p>
<div class="sourceCode" id="cb323"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb323-1"><a href="date-time.html#cb323-1" aria-hidden="true" tabindex="-1"></a>datetime.fromisoformat(<span class="st">&#39;2022-07-05T12:34:56.987&#39;</span>)</span></code></pre></div>
<pre><code>## datetime.datetime(2022, 7, 5, 12, 34, 56, 987000)</code></pre>
<p>클래스 메서드 <code>strptime()</code>는 포맷에 더 유연하며, 마이크로초 단위까지 입력받을 수 있다.</p>
<div class="sourceCode" id="cb325"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb325-1"><a href="date-time.html#cb325-1" aria-hidden="true" tabindex="-1"></a>datetime.strptime(<span class="st">&#39;2022-07-05 12:34:56.987654&#39;</span>, <span class="st">&#39;%Y-%m-</span><span class="sc">%d</span><span class="st"> %H:%M:%S.</span><span class="sc">%f</span><span class="st">&#39;</span>)</span></code></pre></div>
<pre><code>## datetime.datetime(2022, 7, 5, 12, 34, 56, 987654)</code></pre>
<div id="datietime-differences" class="section level4 hasAnchor" number="7.2.1.1">
<h4><span class="header-section-number">7.2.1.1</span> Datietime differences<a href="date-time.html#datietime-differences" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>두 날짜/시간 값을 <code>-</code> 연산자를 이용하여 빼면 timedelta 클래스의 객체를 반환한다.</p>
<div class="sourceCode" id="cb327"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb327-1"><a href="date-time.html#cb327-1" aria-hidden="true" tabindex="-1"></a>py_timedelta <span class="op">=</span> datetime.fromisoformat(<span class="st">&#39;2023-01-01&#39;</span>) <span class="op">-</span> py_datetime</span>
<span id="cb327-2"><a href="date-time.html#cb327-2" aria-hidden="true" tabindex="-1"></a>py_timedelta</span></code></pre></div>
<pre><code>## datetime.timedelta(days=179, seconds=41103, microseconds=12346)</code></pre>
<p>이 때, <code>-</code> 연산자 앞의 객체를 생성할 때 날짜만 입력하였음을 주목하자. datetime 객체를 생성할 때, 시간 이하의 인자는 생략될 경우 0을 기본값으로 사용한다.</p>
<p>또한, timedelta 객체가 <code>days</code>, <code>seconds</code>, <code>microseconds</code>의 속성값을 지니는 것에 주목하자. 시간과 분 단위의 차이는 초 단위의 차이로 변환된다.</p>
<p>다음과 같이 date객체와 datetime 객체간의 시간 차이를 계산하려 하면 오류가 발생한다. (다음에서 <code>datetime.fromisoformat()</code>이 아닌 <code>date.fromisoformat()</code>을 사용하려 하였음을 주목하자.)</p>
<div class="sourceCode" id="cb329"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb329-1"><a href="date-time.html#cb329-1" aria-hidden="true" tabindex="-1"></a>date.fromisoformat(<span class="st">&#39;2023-01-01&#39;</span>) <span class="op">-</span> py_datetime</span></code></pre></div>
<pre><code>## Error in py_call_impl(callable, dots$args, dots$keywords): TypeError: unsupported operand type(s) for -: &#39;datetime.date&#39; and &#39;datetime.datetime&#39;</code></pre>
</div>
</div>
<div id="r-3" class="section level3 hasAnchor" number="7.2.2">
<h3><span class="header-section-number">7.2.2</span> R<a href="date-time.html#r-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>R의 base 패키지에서 제공하는 날짜/시간 클래스로는 POSIXct와 POSIXlt가 있다. 이 두 클래스가 표현하는 값은 기본적으로 같으나, 내부적으로 저장되는 방법이 서로 다르다.</p>
<p>마이크로초 단위의 값을 출력하기 위해, R 세션의 <code>digits</code> 옵션을 변경하자.</p>
<div class="sourceCode" id="cb331"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb331-1"><a href="date-time.html#cb331-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">digits =</span> <span class="dv">20</span>)</span></code></pre></div>
<div id="posixct" class="section level4 hasAnchor" number="7.2.2.1">
<h4><span class="header-section-number">7.2.2.1</span> POSIXct<a href="date-time.html#posixct" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><code>as.POSIXct()</code> 함수를 사용하여 문자열로부터 POSIXct 클래스 객체를 생성하자. <code>format</code> 인자를 사용하여 다양한 포맷의 문자열로부터 값을 읽을 수 있으나, 본 장에서는 기본 포맷을 사용하기로 하자.</p>
<div class="sourceCode" id="cb332"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb332-1"><a href="date-time.html#cb332-1" aria-hidden="true" tabindex="-1"></a>r_datetime_ct <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="st">&quot;2022-07-05 12:34:56.987654&quot;</span>)</span>
<span id="cb332-2"><a href="date-time.html#cb332-2" aria-hidden="true" tabindex="-1"></a>r_datetime_ct</span></code></pre></div>
<pre><code>## [1] &quot;2022-07-05 12:34:56 EDT&quot;</code></pre>
<div class="sourceCode" id="cb334"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb334-1"><a href="date-time.html#cb334-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(r_datetime_ct)</span></code></pre></div>
<pre><code>## [1] &quot;POSIXct&quot; &quot;POSIXt&quot;</code></pre>
<p>여기에 출력된 값에는 초의 소숫점 이하는 생략되어 있으며, 마지막에 시간대(timezone) 정보가 추가되어 출력된다. 우선, 시간대 정보는 신경쓰지 말자.</p>
<p>출력된 값의 기저에 실수형 값이 저장되어 있음을 <code>typeof()</code>를 통해 알 수 있다.</p>
<div class="sourceCode" id="cb336"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb336-1"><a href="date-time.html#cb336-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(r_datetime_ct)</span></code></pre></div>
<pre><code>## [1] &quot;double&quot;</code></pre>
<p>정확히 어떠한 값이 저장되어 있는지를 알아보기 위해 <code>unclass()</code>를 실행해 보자.</p>
<div class="sourceCode" id="cb338"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb338-1"><a href="date-time.html#cb338-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unclass</span>(r_datetime_ct)</span></code></pre></div>
<pre><code>## [1] 1657038896.9876539707
## attr(,&quot;tzone&quot;)
## [1] &quot;&quot;</code></pre>
<p>이 실수형 값은 정수 부분과 소숫점 이하의 부분으로 나뉜다.</p>
<div id="소숫점-이하-부분" class="section level5 hasAnchor" number="7.2.2.1.1">
<h5><span class="header-section-number">7.2.2.1.1</span> 소숫점 이하 부분<a href="date-time.html#소숫점-이하-부분" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>우선 소숫점 이하 부분부터 살펴보자. 실수형 값에서 우선 소숫점 이하의 값이 입력된 마이크로초 정보와 매우 근사하지만 정확히 같이 않음을 볼 수 있다. 입력된 정보와 정확히 같기 위해서는 <code>.9876540000</code>이어야 하겠지만, 실제 저장된 값을 출력해 보면 <code>.9876539707</code>과 같이 미세하게 다르다. 실수형 데이터는 정확한 값이 아니라 그 값에 근사한 값을 표현하는 형태로 저장되기 때문에 이러한 차이가 발생한다. 이는 R과 파이썬이 다른 부분이다.</p>
<ul>
<li>R은 실수형으로 저장하기 때문에 마이크로초 이하 단위의 시간도 표현 가능한 반면, 저장하고자 했던 정확한 값을 저장하지 못한다.</li>
<li>파이썬은 마이크로초 정보를 따로 정수형으로 저장하기 때문에, 저장하고자 했던 정확한 값을 저장하는 반면, 만약 애초에 저장하고자 했던 정보가 마이크로초 이하라면, 그 시간 정보를 저장할 수 없다.</li>
</ul>
</div>
<div id="정수-부분" class="section level5 hasAnchor" number="7.2.2.1.2">
<h5><span class="header-section-number">7.2.2.1.2</span> 정수 부분<a href="date-time.html#정수-부분" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>다음으로, 정수 부분을 살펴보자. 정수 부분은 초 단위까지 표현하는 부분이다.</p>
<div class="sourceCode" id="cb340"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb340-1"><a href="date-time.html#cb340-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unclass</span>(<span class="fu">as.POSIXct</span>(<span class="st">&quot;2022-07-05 12:34:56&quot;</span>))</span></code></pre></div>
<pre><code>## [1] 1657038896
## attr(,&quot;tzone&quot;)
## [1] &quot;&quot;</code></pre>
<p>좀 더 정확하게는, 협정 세계시(Coordinated Universal Time; UTC) 기준 1970년 1월 1일 0시 0분 0초부터 소요된 초이다. 다시 말하면, 다음 코드는 0을 반환한다.</p>
<div class="sourceCode" id="cb342"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb342-1"><a href="date-time.html#cb342-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unclass</span>(<span class="fu">as.POSIXct</span>(<span class="st">&quot;1970-01-01 00:00:00&quot;</span>, <span class="at">tz =</span> <span class="st">&quot;UTC&quot;</span>))</span></code></pre></div>
<pre><code>## [1] 0
## attr(,&quot;tzone&quot;)
## [1] &quot;UTC&quot;</code></pre>
<p>다음 코드는 86,400을 반환할텐데, 이는 하루가 86,400초이기 때문이다.</p>
<div class="sourceCode" id="cb344"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb344-1"><a href="date-time.html#cb344-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unclass</span>(<span class="fu">as.POSIXct</span>(<span class="st">&quot;1970-01-02 00:00:00&quot;</span>, <span class="at">tz =</span> <span class="st">&quot;UTC&quot;</span>))</span></code></pre></div>
<pre><code>## [1] 86400
## attr(,&quot;tzone&quot;)
## [1] &quot;UTC&quot;</code></pre>
<p>여기서 <code>tz = "UTC"</code> 인자를 사용했음에 주목하자. 이를 명시하지 않으면, 각자의 R 세션에 설정된 시간대를 기본값으로 사용하며, 이는 <code>"UTC"</code>를 사용할 때와는 다른 값을 반환한다. 다음의 예를 보자.</p>
<div class="sourceCode" id="cb346"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb346-1"><a href="date-time.html#cb346-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unclass</span>(<span class="fu">as.POSIXct</span>(<span class="st">&quot;1970-01-02 00:00:00&quot;</span>))</span></code></pre></div>
<pre><code>## [1] 104400
## attr(,&quot;tzone&quot;)
## [1] &quot;&quot;</code></pre>
<div class="sourceCode" id="cb348"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb348-1"><a href="date-time.html#cb348-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unclass</span>(<span class="fu">as.POSIXct</span>(<span class="st">&quot;1970-01-02 00:00:00&quot;</span>, <span class="at">tz =</span> <span class="fu">Sys.timezone</span>()))</span></code></pre></div>
<pre><code>## [1] 104400
## attr(,&quot;tzone&quot;)
## [1] &quot;America/New_York&quot;</code></pre>
<p>날짜/시간 객체가 표현하는 시간대는 <code>tz</code> 인자를 통해 설정할 수 있지만, 그 기저의 값은 항상 협정 세계시(Coordinated Universal Time; UTC) 기준 1970년 1월 1일 0시 0분 0초부터 얼마나 지났는지를 나타낸다.</p>
</div>
</div>
<div id="posixlt" class="section level4 hasAnchor" number="7.2.2.2">
<h4><span class="header-section-number">7.2.2.2</span> POSIXlt<a href="date-time.html#posixlt" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>다음으로 POSIXlt 클래스 객체를 생성해 보자. <code>as.POSIXlt()</code> 함수를 사용하며, 함수 사용 방법은 <code>as.POSIXct()</code>와 마찬가지다.</p>
<div class="sourceCode" id="cb350"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb350-1"><a href="date-time.html#cb350-1" aria-hidden="true" tabindex="-1"></a>r_datetime_lt <span class="ot">&lt;-</span> <span class="fu">as.POSIXlt</span>(<span class="st">&quot;2022-07-05 12:34:56.987654&quot;</span>)</span>
<span id="cb350-2"><a href="date-time.html#cb350-2" aria-hidden="true" tabindex="-1"></a>r_datetime_lt</span></code></pre></div>
<pre><code>## [1] &quot;2022-07-05 12:34:56 EDT&quot;</code></pre>
<div class="sourceCode" id="cb352"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb352-1"><a href="date-time.html#cb352-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(r_datetime_lt)</span></code></pre></div>
<pre><code>## [1] &quot;POSIXlt&quot; &quot;POSIXt&quot;</code></pre>
<p>이는 리스트로 저장되어 있는 보다 구조적인 데이터다.</p>
<div class="sourceCode" id="cb354"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb354-1"><a href="date-time.html#cb354-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(r_datetime_lt)</span></code></pre></div>
<pre><code>## [1] &quot;list&quot;</code></pre>
<p>정확히 어떠한 값이 저장되어 있는지를 알아보기 위해 <code>unclass()</code>를 실행해 보자.</p>
<div class="sourceCode" id="cb356"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb356-1"><a href="date-time.html#cb356-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unclass</span>(r_datetime_lt)</span></code></pre></div>
<pre><code>## $sec
## [1] 56.987653999999999144
## 
## $min
## [1] 34
## 
## $hour
## [1] 12
## 
## $mday
## [1] 5
## 
## $mon
## [1] 6
## 
## $year
## [1] 122
## 
## $wday
## [1] 2
## 
## $yday
## [1] 185
## 
## $isdst
## [1] 1
## 
## $zone
## [1] &quot;EDT&quot;
## 
## $gmtoff
## [1] NA</code></pre>
<p>여기에서 주목할 두 가지 부분이 있다.</p>
<ul>
<li>POSIXct에서 정수 부분에 함께 포함되어 있던 여러가지 정보가 POSIXlt에서는 여러 원소로 나뉘어 저장되어 있다. 시간대 정보 또한 <code>zone</code> 원소로 저장되어 있다.</li>
<li>초 단위 이하의 정보는 <code>sec</code> 원소로 저장되어 있는데, 여기에서 소숫점 이하의 값이 앞에서 POSIXct에서 봤던 값과 다소 다를 수 있다. 이는 다시금 실수값의 저장 방식(근사치)과 관련이 있을 것이다. POSIXct에서는 실수값에서 정수 부분의 유효숫자가 매우 많았던 반면, POSIXlt에서는 초 단위 이하만 따로 <code>sec</code>에서 관리하므로 정수 부분의 유효숫자가 적고(두 자리), 따라서 소숫점 이하의 초 단위 정보를 보다 가까운 근사치로 표현할 수 있다.</li>
</ul>
</div>
<div id="datietime-differences-1" class="section level4 hasAnchor" number="7.2.2.3">
<h4><span class="header-section-number">7.2.2.3</span> Datietime differences<a href="date-time.html#datietime-differences-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>두 날짜/시간 값을 <code>-</code> 연산자를 이용하여 빼면 timediff 클래스의 객체를 반환한다.</p>
<div class="sourceCode" id="cb358"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb358-1"><a href="date-time.html#cb358-1" aria-hidden="true" tabindex="-1"></a>r_timediff <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="st">&quot;2023-01-01&quot;</span>) <span class="sc">-</span> r_datetime_lt</span>
<span id="cb358-2"><a href="date-time.html#cb358-2" aria-hidden="true" tabindex="-1"></a>r_timediff</span></code></pre></div>
<pre><code>## Time difference of 179.51739597622719202 days</code></pre>
<div class="sourceCode" id="cb360"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb360-1"><a href="date-time.html#cb360-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(r_timediff)</span></code></pre></div>
<pre><code>## [1] &quot;difftime&quot;</code></pre>
<p>이 기저의 값은 실수형(double)이며, 기본으로 일 단위로 나타난다.</p>
<div class="sourceCode" id="cb362"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb362-1"><a href="date-time.html#cb362-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unclass</span>(r_timediff)</span></code></pre></div>
<pre><code>## [1] 179.51739597622719202
## attr(,&quot;units&quot;)
## [1] &quot;days&quot;</code></pre>
<p>다른 단위로 그 차이를 알고 싶다면 <code>as.double()</code> 호출 시 <code>units</code> 인자를 제공할 수 있다.</p>
<div class="sourceCode" id="cb364"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb364-1"><a href="date-time.html#cb364-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.double</span>(r_timediff, <span class="at">units =</span> <span class="st">&quot;secs&quot;</span>)</span></code></pre></div>
<pre><code>## [1] 15510303.012346029282</code></pre>
<div class="sourceCode" id="cb366"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb366-1"><a href="date-time.html#cb366-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.double</span>(r_timediff, <span class="at">units =</span> <span class="st">&quot;hours&quot;</span>)</span></code></pre></div>
<pre><code>## [1] 4308.4175034294530633</code></pre>
<p>timediff 객체 자체에 저장된 단위를 변경하고 싶다면 <code>units&lt;-</code> 함수를 사용하면 된다.</p>
<p>하지만, 파이썬과 같이 각 단위를 분리하여 좀 더 표현하기 쉽게 보여주고 저장하지는 못한다.</p>
<p>파이썬과 마찬가지로, 날짜값에서 날짜/시간값을 빼는 연산을 수행할 수 없다. 그 결과는 POSIXct를 사용할 때와 POSIXlt를 사용할 때가 다르다.</p>
<p>POSIXct를 사용할 때는 기저의 값이 실수형이므로, 마찬가지로 기저의 값이 실수형인 Date와의 연산이 특별한 구현 없이도 R에서 기술적으로 가능하다. 하지만, 그 값의 단위가 다르기 때문에 (POSIXct는 초, Date는 일), 의미가 결과값이 나타나게 될 것이다. 이때, R은 warning 메시지를 출력하며, 결과의 클래스는 <code>-</code> 연산자 앞에 놓인 객체의 클래스에 따라 생성된다.</p>
<div class="sourceCode" id="cb368"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb368-1"><a href="date-time.html#cb368-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.Date</span>(<span class="st">&quot;2023-01-01&quot;</span>) <span class="sc">-</span> r_datetime_ct</span></code></pre></div>
<pre><code>## Warning: Incompatible methods (&quot;-.Date&quot;, &quot;-.POSIXt&quot;) for &quot;-&quot;</code></pre>
<pre><code>## [1] &quot;-4534796-08-05&quot;</code></pre>
<div class="sourceCode" id="cb371"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb371-1"><a href="date-time.html#cb371-1" aria-hidden="true" tabindex="-1"></a>r_datetime_ct <span class="sc">-</span> <span class="fu">as.Date</span>(<span class="st">&quot;2023-01-01&quot;</span>)</span></code></pre></div>
<pre><code>## Warning: Incompatible methods (&quot;-.POSIXt&quot;, &quot;-.Date&quot;) for &quot;-&quot;</code></pre>
<pre><code>## [1] &quot;2022-07-05 07:12:18 EDT&quot;</code></pre>
<p>반면, POSIXlt는 기저의 자료 형태가 리스트이므로, 기저의 값이 실수형인 Date와 연산이 특별한 구현 없이는 기본적으로 정의되지 않는다. 따라서 이는 오류를 발생시킨다.</p>
<div class="sourceCode" id="cb374"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb374-1"><a href="date-time.html#cb374-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.Date</span>(<span class="st">&quot;2023-01-01&quot;</span>) <span class="sc">-</span> r_datetime_lt</span></code></pre></div>
<pre><code>## Warning: Incompatible methods (&quot;-.Date&quot;, &quot;-.POSIXt&quot;) for &quot;-&quot;</code></pre>
<pre><code>## Error in as.Date(&quot;2023-01-01&quot;) - r_datetime_lt: non-numeric argument to binary operator</code></pre>
</div>
</div>
</div>
<div id="시간" class="section level2 hasAnchor" number="7.3">
<h2><span class="header-section-number">7.3</span> 시간<a href="date-time.html#시간" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>날짜와 상관 없이 시간만 중요한 경우를 가정해 보자. 이 때, 날짜는 저장하지 않고 시간만 따로 저장하고 싶을 것이다.</p>
<div id="파이썬-3" class="section level3 hasAnchor" number="7.3.1">
<h3><span class="header-section-number">7.3.1</span> 파이썬<a href="date-time.html#파이썬-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>파이썬은 datetime 모듈의 time 클래스를 사용하여 시간만 따로 저장할 수 있도록 한다. 생성자 <code>time()</code>에 시간, 분, 초, 마이크로초(0 ~ 999999)를 입력하여 생성할 수 있다.</p>
<div class="sourceCode" id="cb377"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb377-1"><a href="date-time.html#cb377-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> datetime <span class="im">import</span> time</span>
<span id="cb377-2"><a href="date-time.html#cb377-2" aria-hidden="true" tabindex="-1"></a>py_time <span class="op">=</span> time(<span class="dv">12</span>, <span class="dv">34</span>, <span class="dv">56</span>, <span class="dv">987654</span>)</span>
<span id="cb377-3"><a href="date-time.html#cb377-3" aria-hidden="true" tabindex="-1"></a>py_time</span></code></pre></div>
<pre><code>## datetime.time(12, 34, 56, 987654)</code></pre>
<div class="sourceCode" id="cb379"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb379-1"><a href="date-time.html#cb379-1" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(py_time)</span></code></pre></div>
<pre><code>## &lt;class &#39;datetime.time&#39;&gt;</code></pre>
<p>이 때, datetime과 마찬가지로 마이크로초는 정수여야 하며, 더 작은 단위의 시간을 입력하려 실수형을 입력하면 오류가 발생한다.</p>
<div class="sourceCode" id="cb381"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb381-1"><a href="date-time.html#cb381-1" aria-hidden="true" tabindex="-1"></a>time(<span class="dv">12</span>, <span class="dv">34</span>, <span class="dv">56</span>, <span class="fl">98765.4</span>)</span></code></pre></div>
<pre><code>## Error in py_call_impl(callable, dots$args, dots$keywords): TypeError: integer argument expected, got float</code></pre>
<div id="time-differences" class="section level4 hasAnchor" number="7.3.1.1">
<h4><span class="header-section-number">7.3.1.1</span> Time differences<a href="date-time.html#time-differences" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>파이썬에서 time 객체간 차이를 <code>-</code> 연산자를 사용하여 직접 계산할 수는 없다.</p>
<div class="sourceCode" id="cb383"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb383-1"><a href="date-time.html#cb383-1" aria-hidden="true" tabindex="-1"></a>py_time <span class="op">-</span> time(<span class="dv">12</span>, <span class="dv">0</span>, <span class="dv">0</span>)</span></code></pre></div>
<pre><code>## Error in py_call_impl(callable, dots$args, dots$keywords): TypeError: unsupported operand type(s) for -: &#39;datetime.time&#39; and &#39;datetime.time&#39;</code></pre>
<p>이를 위해서는 datetime 객체를 생성한 뒤에 차이를 구해야 한다.</p>
<div class="sourceCode" id="cb385"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb385-1"><a href="date-time.html#cb385-1" aria-hidden="true" tabindex="-1"></a>datetime.combine(date <span class="op">=</span> date.<span class="bu">min</span>, time <span class="op">=</span> py_time) <span class="op">-\</span></span>
<span id="cb385-2"><a href="date-time.html#cb385-2" aria-hidden="true" tabindex="-1"></a>  datetime.combine(date <span class="op">=</span> date.<span class="bu">min</span>, time <span class="op">=</span> time(<span class="dv">12</span>, <span class="dv">0</span>, <span class="dv">0</span>))</span></code></pre></div>
<pre><code>## datetime.timedelta(seconds=2096, microseconds=987654)</code></pre>
</div>
</div>
<div id="r-4" class="section level3 hasAnchor" number="7.3.2">
<h3><span class="header-section-number">7.3.2</span> R<a href="date-time.html#r-4" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>기본적으로 R에는 날짜와 분리된 별도의 시간 자료 형태가 없다. 따라서 (별도의 추가적인 패키지를 사용하지 않는 한) 앞에서 살펴본 날짜/시간 클래스를 적절히 사용해야 한다.</p>
<div class="sourceCode" id="cb387"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb387-1"><a href="date-time.html#cb387-1" aria-hidden="true" tabindex="-1"></a>r_time <span class="ot">&lt;-</span> <span class="fu">as.POSIXlt</span>(<span class="st">&quot;12:34:56.987654&quot;</span>, <span class="at">format =</span> <span class="st">&quot;%H:%M:%OS&quot;</span>)</span>
<span id="cb387-2"><a href="date-time.html#cb387-2" aria-hidden="true" tabindex="-1"></a>r_time</span></code></pre></div>
<pre><code>## [1] &quot;2022-07-04 12:34:56 EDT&quot;</code></pre>
<div class="sourceCode" id="cb389"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb389-1"><a href="date-time.html#cb389-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(r_time)</span></code></pre></div>
<pre><code>## [1] &quot;POSIXlt&quot; &quot;POSIXt&quot;</code></pre>
<div class="sourceCode" id="cb391"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb391-1"><a href="date-time.html#cb391-1" aria-hidden="true" tabindex="-1"></a>r_time <span class="sc">-</span> <span class="fu">as.POSIXlt</span>(<span class="st">&quot;12:00:00&quot;</span>, <span class="at">format =</span> <span class="st">&quot;%H:%M:%S&quot;</span>)</span></code></pre></div>
<pre><code>## Time difference of 34.949794232845306396 mins</code></pre>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="interesting-differences.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
