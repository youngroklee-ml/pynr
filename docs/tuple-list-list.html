<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 파이썬의 tuple과 list, 그리고 R의 list | Python &amp; R</title>
  <meta name="description" content="<p>이 책은 Python과 R의 비슷한 점과 차이점을 예제를 통해 알아보기 위한 책이다.
어느 하나가 다른 하나의 우위에 있음을 보이려는 의도가 아니며, Python 사용자가
R을 이해하거나 R 사용자가 Python을 이해하는 데 도움을 주기 위해 작성되었다.</p>" />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 파이썬의 tuple과 list, 그리고 R의 list | Python &amp; R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="<p>이 책은 Python과 R의 비슷한 점과 차이점을 예제를 통해 알아보기 위한 책이다.
어느 하나가 다른 하나의 우위에 있음을 보이려는 의도가 아니며, Python 사용자가
R을 이해하거나 R 사용자가 Python을 이해하는 데 도움을 주기 위해 작성되었다.</p>" />
  <meta name="github-repo" content="youngroklee-ml/pynr" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 파이썬의 tuple과 list, 그리고 R의 list | Python &amp; R" />
  
  <meta name="twitter:description" content="<p>이 책은 Python과 R의 비슷한 점과 차이점을 예제를 통해 알아보기 위한 책이다.
어느 하나가 다른 하나의 우위에 있음을 보이려는 의도가 아니며, Python 사용자가
R을 이해하거나 R 사용자가 Python을 이해하는 데 도움을 주기 위해 작성되었다.</p>" />
  

<meta name="author" content="이영록" />


<meta name="date" content="2022-06-12" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="dictionary-named-list-environment.html"/>
<link rel="next" href="array-vector.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Python & R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Overview</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#python"><i class="fa fa-check"></i><b>1.1</b> Python</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#r"><i class="fa fa-check"></i><b>1.2</b> R</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="dictionary-named-list-environment.html"><a href="dictionary-named-list-environment.html"><i class="fa fa-check"></i><b>2</b> 파이썬의 dictionary, 그리고 R의 named list와 environment</a>
<ul>
<li class="chapter" data-level="2.1" data-path="dictionary-named-list-environment.html"><a href="dictionary-named-list-environment.html#dictionary-in-python"><i class="fa fa-check"></i><b>2.1</b> Dictionary in Python</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="dictionary-named-list-environment.html"><a href="dictionary-named-list-environment.html#생성"><i class="fa fa-check"></i><b>2.1.1</b> 생성</a></li>
<li class="chapter" data-level="2.1.2" data-path="dictionary-named-list-environment.html"><a href="dictionary-named-list-environment.html#lookup"><i class="fa fa-check"></i><b>2.1.2</b> Lookup</a></li>
<li class="chapter" data-level="2.1.3" data-path="dictionary-named-list-environment.html"><a href="dictionary-named-list-environment.html#reference-semantics"><i class="fa fa-check"></i><b>2.1.3</b> Reference semantics</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="dictionary-named-list-environment.html"><a href="dictionary-named-list-environment.html#named-list-vs-environment-in-r"><i class="fa fa-check"></i><b>2.2</b> Named list vs environment in R</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="dictionary-named-list-environment.html"><a href="dictionary-named-list-environment.html#생성-1"><i class="fa fa-check"></i><b>2.2.1</b> 생성</a></li>
<li class="chapter" data-level="2.2.2" data-path="dictionary-named-list-environment.html"><a href="dictionary-named-list-environment.html#lookup-1"><i class="fa fa-check"></i><b>2.2.2</b> Lookup</a></li>
<li class="chapter" data-level="2.2.3" data-path="dictionary-named-list-environment.html"><a href="dictionary-named-list-environment.html#reference-semantics-1"><i class="fa fa-check"></i><b>2.2.3</b> Reference semantics</a></li>
<li class="chapter" data-level="2.2.4" data-path="dictionary-named-list-environment.html"><a href="dictionary-named-list-environment.html#uniqueness"><i class="fa fa-check"></i><b>2.2.4</b> Uniqueness</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="tuple-list-list.html"><a href="tuple-list-list.html"><i class="fa fa-check"></i><b>3</b> 파이썬의 tuple과 list, 그리고 R의 list</a>
<ul>
<li class="chapter" data-level="3.1" data-path="tuple-list-list.html"><a href="tuple-list-list.html#tuple-vs-list-in-python"><i class="fa fa-check"></i><b>3.1</b> Tuple vs list in Python</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="tuple-list-list.html"><a href="tuple-list-list.html#immutable-vs-mutable"><i class="fa fa-check"></i><b>3.1.1</b> Immutable vs mutable</a></li>
<li class="chapter" data-level="3.1.2" data-path="tuple-list-list.html"><a href="tuple-list-list.html#append-items"><i class="fa fa-check"></i><b>3.1.2</b> Append items</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="tuple-list-list.html"><a href="tuple-list-list.html#list-in-r"><i class="fa fa-check"></i><b>3.2</b> List in R</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="tuple-list-list.html"><a href="tuple-list-list.html#mutable-object"><i class="fa fa-check"></i><b>3.2.1</b> Mutable object</a></li>
<li class="chapter" data-level="3.2.2" data-path="tuple-list-list.html"><a href="tuple-list-list.html#append-items-1"><i class="fa fa-check"></i><b>3.2.2</b> Append items</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="array-vector.html"><a href="array-vector.html"><i class="fa fa-check"></i><b>4</b> 파이썬의 array, 그리고 R의 vector</a>
<ul>
<li class="chapter" data-level="4.1" data-path="array-vector.html"><a href="array-vector.html#파이썬의-array"><i class="fa fa-check"></i><b>4.1</b> 파이썬의 array</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="array-vector.html"><a href="array-vector.html#mutability"><i class="fa fa-check"></i><b>4.1.1</b> Mutability</a></li>
<li class="chapter" data-level="4.1.2" data-path="array-vector.html"><a href="array-vector.html#다른-타입의-원소-입력하기"><i class="fa fa-check"></i><b>4.1.2</b> 다른 타입의 원소 입력하기</a></li>
<li class="chapter" data-level="4.1.3" data-path="array-vector.html"><a href="array-vector.html#원소-추가하기"><i class="fa fa-check"></i><b>4.1.3</b> 원소 추가하기</a></li>
<li class="chapter" data-level="4.1.4" data-path="array-vector.html"><a href="array-vector.html#문자열-시퀀스"><i class="fa fa-check"></i><b>4.1.4</b> 문자열 시퀀스</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="array-vector.html"><a href="array-vector.html#r의-vector"><i class="fa fa-check"></i><b>4.2</b> R의 vector</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="array-vector.html"><a href="array-vector.html#mutability-1"><i class="fa fa-check"></i><b>4.2.1</b> Mutability</a></li>
<li class="chapter" data-level="4.2.2" data-path="array-vector.html"><a href="array-vector.html#다른-타입의-원소-입력하기-1"><i class="fa fa-check"></i><b>4.2.2</b> 다른 타입의 원소 입력하기</a></li>
<li class="chapter" data-level="4.2.3" data-path="array-vector.html"><a href="array-vector.html#원소-추가하기-1"><i class="fa fa-check"></i><b>4.2.3</b> 원소 추가하기</a></li>
<li class="chapter" data-level="4.2.4" data-path="array-vector.html"><a href="array-vector.html#문자열-시퀀스-1"><i class="fa fa-check"></i><b>4.2.4</b> 문자열 시퀀스</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Python &amp; R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="tuple-list-list" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Chapter 3</span> 파이썬의 tuple과 list, 그리고 R의 list<a href="tuple-list-list.html#tuple-list-list" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>파이썬에 내장된 대표적인 시퀀스(sequence)형 자료 형태로 tuple(튜플, 투플, 터플)과 list(리스트)를 들 수 있다. 두 자료 형태 모두 위치(position)를 사용하여 원소를 읽을 수 있으며, 각 원소가 서로 다른 타입일 수 있다. 예를 들어, 첫 번째 원소는 숫자, 두 번째 원소는 문자열 등으로 구성될 수 있다.</p>
<p>Tuple은 흔히 immutable list로 설명되기도 하는데, 일반적으로 그 원소의 값을 modify-in-place로 변경할 수 없기 때문이다. 반면 list는 mutable object로, 기존에 만들어진 list 내에서 원소의 값을 변경하는 것이 가능하다. 보다 자세한 내용은 아래에서 살펴보기로 하자.</p>
<p>기존에 존재하는 원소의 변경 여부 외에, 새로운 원소를 추가할 수 있는지, 즉 기존 <code>n</code>개의 원소를 지닌 시퀀스에 <code>n + 1</code>번째 원소를 추가할 수 있는지에 대한 차이도 존재한다. Tuple의 경우 길이가 고정된 시퀀스로써 새로운 원소를 추가할 수 없지만, list의 경우에는 기존 list에 원소를 추가한다던가 기존 원소를 제거하는 등 시퀀스의 길이를 변경하게 되는 작업을 수행할 수 있다. 하지만 이것이 list가 mutable 객체라고 주장하는 근거가 되기에는 약간 한계가 있는 부분이 있는데, 이는 본문에서 예와 함께 설명하기로 한다.</p>
<p>필자는 이 두 가지 파이썬 자료 형태 중 list가 R의 list와 공통점이 더 많다고 생각한다. 가장 중요한 공통점은 mutable 객체라는 점이다. 즉, 파이썬의 list와 R의 list 모두 modify-in-place를 지원한다. 단, 이 때 R의 경우 single binding을 가정하자. 보다 자세한 내용은 본문에서 다루기로 하자.</p>
<div id="tuple-vs-list-in-python" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Tuple vs list in Python<a href="tuple-list-list.html#tuple-vs-list-in-python" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>파이썬에서 tuple과 list의 차이를 간단한 예를 통해 살펴보자.</p>
<div id="immutable-vs-mutable" class="section level3 hasAnchor" number="3.1.1">
<h3><span class="header-section-number">3.1.1</span> Immutable vs mutable<a href="tuple-list-list.html#immutable-vs-mutable" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>숫자 1부터 10까지를 각 원소로 지니는 길이 10짜리 tuple과 list를 생성해 보자.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb58-1"><a href="tuple-list-list.html#cb58-1" aria-hidden="true" tabindex="-1"></a>py_tuple <span class="op">=</span> <span class="bu">tuple</span>(x <span class="cf">for</span> x <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">11</span>))</span>
<span id="cb58-2"><a href="tuple-list-list.html#cb58-2" aria-hidden="true" tabindex="-1"></a>py_tuple</span></code></pre></div>
<pre><code>## (1, 2, 3, 4, 5, 6, 7, 8, 9, 10)</code></pre>
<div class="sourceCode" id="cb60"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb60-1"><a href="tuple-list-list.html#cb60-1" aria-hidden="true" tabindex="-1"></a>py_list <span class="op">=</span> [x <span class="cf">for</span> x <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">11</span>)]</span>
<span id="cb60-2"><a href="tuple-list-list.html#cb60-2" aria-hidden="true" tabindex="-1"></a>py_list</span></code></pre></div>
<pre><code>## [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</code></pre>
<p>이후, <code>py_tuple</code>의 첫 번째 원소의 값을 변경하려 시도한다면, 오류를 얻게 된다. 이는 tuple이 한 번 생성된 후에는 원소의 값을 변경할 수 없는 immutable 객체이기 때문이다.</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb62-1"><a href="tuple-list-list.html#cb62-1" aria-hidden="true" tabindex="-1"></a>py_tuple[<span class="dv">0</span>] <span class="op">=</span> <span class="dv">0</span></span></code></pre></div>
<pre><code>## Error in py_call_impl(callable, dots$args, dots$keywords): TypeError: &#39;tuple&#39; object does not support item assignment</code></pre>
<p>반면, list의 경우에는 첫 번째 원소(뿐만 아니라 어느 위치의 원소이든)의 값을 변경할 수 있다. 이 때, 내부적으로 새로운 list를 생성하는 것이 아니라, 기존 list의 원소값만 변경하게 된다. 이를 확인하기 위해 원소값 변경 전과 후의 <code>py_list</code>의 메모리 위치를 <code>id(py_list)</code>로 출력해 보자.</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb64-1"><a href="tuple-list-list.html#cb64-1" aria-hidden="true" tabindex="-1"></a>py_list[<span class="dv">0</span>]</span></code></pre></div>
<pre><code>## 1</code></pre>
<div class="sourceCode" id="cb66"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb66-1"><a href="tuple-list-list.html#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="bu">id</span>(py_list)</span></code></pre></div>
<pre><code>## 4583487680</code></pre>
<div class="sourceCode" id="cb68"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb68-1"><a href="tuple-list-list.html#cb68-1" aria-hidden="true" tabindex="-1"></a>py_list[<span class="dv">0</span>] <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb68-2"><a href="tuple-list-list.html#cb68-2" aria-hidden="true" tabindex="-1"></a>py_list[<span class="dv">0</span>]</span></code></pre></div>
<pre><code>## 0</code></pre>
<div class="sourceCode" id="cb70"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb70-1"><a href="tuple-list-list.html#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="bu">id</span>(py_list)</span></code></pre></div>
<pre><code>## 4583487680</code></pre>
<p>위 결과와 같이, 원소의 값을 변경하더라도 list 객체의 메모리 위치는 변함이 없는 modify-in-place 방식을 지원한다.</p>
<div id="mutable-element-of-tuple" class="section level4 hasAnchor" number="3.1.1.1">
<h4><span class="header-section-number">3.1.1.1</span> Mutable element of tuple<a href="tuple-list-list.html#mutable-element-of-tuple" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>여기에서 tuple의 immutability를 얘기할 때 조심해야 할 부분이 있다. 만약 tuple의 어떤 원소가 list와 같은 mutable 객체라면, 이 mutable 원소의 원소값을 수정할 수 있다. 다음 예에서, tuple <code>a</code>의 두 번째 원소인 list의 첫 번째 원소를 변경할 수 있다.</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb72-1"><a href="tuple-list-list.html#cb72-1" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> (<span class="dv">0</span>, [<span class="dv">1</span>, <span class="dv">2</span>])</span>
<span id="cb72-2"><a href="tuple-list-list.html#cb72-2" aria-hidden="true" tabindex="-1"></a>a</span></code></pre></div>
<pre><code>## (0, [1, 2])</code></pre>
<div class="sourceCode" id="cb74"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb74-1"><a href="tuple-list-list.html#cb74-1" aria-hidden="true" tabindex="-1"></a>a[<span class="dv">1</span>][<span class="dv">0</span>] <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb74-2"><a href="tuple-list-list.html#cb74-2" aria-hidden="true" tabindex="-1"></a>a</span></code></pre></div>
<pre><code>## (0, [0, 2])</code></pre>
<p>이는 tuple이 원소의 값 자체가 아니라, 원소의 값이 저장된 위치를 참조하는 reference를 지니기 때문이다. Tuple의 각 원소의 값이 저장된 위치를 변경할 수는 없지만, 그 원소가 mutable 객체라면 그 원소의 값 자체를 변경할 수는 있는 것이다.</p>
<p>이 부분은 본 장에서 핵심적인 부분은 아니기 때문에 여기까지만 설명하기로 하자.</p>
</div>
</div>
<div id="append-items" class="section level3 hasAnchor" number="3.1.2">
<h3><span class="header-section-number">3.1.2</span> Append items<a href="tuple-list-list.html#append-items" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>시퀀스에 새로운 11번째 원소를 추가하고 싶다고 생각해 보자.</p>
<p>Tuple의 경우 길이가 정해진 시퀀스이기 때문에 새로운 원소를 이후에 추가할 수가 없다. 만약 꼭 추가해야 한다면, 새로운 tuple을 생성하는 방법 밖에는 없다. 이 경우, 새로운 tuple이 생성되었음을 <code>id()</code> 함수를 통해 확인할 수 있다.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb76-1"><a href="tuple-list-list.html#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="bu">id</span>(py_tuple)</span></code></pre></div>
<pre><code>## 4583468736</code></pre>
<div class="sourceCode" id="cb78"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb78-1"><a href="tuple-list-list.html#cb78-1" aria-hidden="true" tabindex="-1"></a>py_tuple <span class="op">=</span> py_tuple <span class="op">+</span> (<span class="dv">11</span>, )</span>
<span id="cb78-2"><a href="tuple-list-list.html#cb78-2" aria-hidden="true" tabindex="-1"></a>py_tuple[<span class="dv">10</span>]</span></code></pre></div>
<pre><code>## 11</code></pre>
<div class="sourceCode" id="cb80"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb80-1"><a href="tuple-list-list.html#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="bu">id</span>(py_tuple)</span></code></pre></div>
<pre><code>## 4583642816</code></pre>
<p>반면, list의 경우 <code>append()</code>를 사용하여 기존의 list에 원소를 추가할 수 있다.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb82-1"><a href="tuple-list-list.html#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="bu">id</span>(py_list)</span></code></pre></div>
<pre><code>## 4583487680</code></pre>
<div class="sourceCode" id="cb84"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb84-1"><a href="tuple-list-list.html#cb84-1" aria-hidden="true" tabindex="-1"></a>py_list.append(<span class="dv">11</span>)</span>
<span id="cb84-2"><a href="tuple-list-list.html#cb84-2" aria-hidden="true" tabindex="-1"></a>py_list[<span class="dv">10</span>]</span></code></pre></div>
<pre><code>## 11</code></pre>
<div class="sourceCode" id="cb86"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb86-1"><a href="tuple-list-list.html#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="bu">id</span>(py_list)</span></code></pre></div>
<pre><code>## 4583487680</code></pre>
<p>이 예에서 <code>py_list</code>의 메모리 주소는 변하지 않았다. 이는 마치 list가 mutable 객체이기 때문인 것으로 보이지만, 필자는 이는 절반만 맞는 설명이라 하겠다. 실제로는, 파이썬은 list를 생성할 때, 이후에 추가될 수 있는 원소를 위한 공간을 미리 어느 정도 남겨둔다. 따라서, 그 남겨둔 공간까지는 원소를 추가하더라도 list에 할당된 메모리 공간이 변하지 않지만, 그 범위를 넘어서는 순간 list에 메모리 공간이 재할당된다. 이 재할당 작업을 너무 자주 수행하지 않기 위해 미리 당장 필요하지 않은 메모리를 확보해 두는 것이다. 다음 예는 list의 메모리 공간이 매 원소 추가 시마다 증가하는 것이 아니라 이따금 한 번에 증가한다는 것을 보여준다.</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb88-1"><a href="tuple-list-list.html#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(sys.getsizeof(py_list))</span></code></pre></div>
<pre><code>## 184</code></pre>
<div class="sourceCode" id="cb90"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb90-1"><a href="tuple-list-list.html#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> x <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">12</span>, <span class="dv">31</span>):</span>
<span id="cb90-2"><a href="tuple-list-list.html#cb90-2" aria-hidden="true" tabindex="-1"></a>  py_list.append(x)</span>
<span id="cb90-3"><a href="tuple-list-list.html#cb90-3" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(<span class="ss">f&#39;Number of elements: </span><span class="sc">{</span><span class="bu">len</span>(py_list)<span class="sc">}</span><span class="ss">, memory size: </span><span class="sc">{</span>sys<span class="sc">.</span>getsizeof(py_list)<span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>
<pre><code>## Number of elements: 12, memory size: 184
## Number of elements: 13, memory size: 184
## Number of elements: 14, memory size: 184
## Number of elements: 15, memory size: 184
## Number of elements: 16, memory size: 184
## Number of elements: 17, memory size: 256
## Number of elements: 18, memory size: 256
## Number of elements: 19, memory size: 256
## Number of elements: 20, memory size: 256
## Number of elements: 21, memory size: 256
## Number of elements: 22, memory size: 256
## Number of elements: 23, memory size: 256
## Number of elements: 24, memory size: 256
## Number of elements: 25, memory size: 256
## Number of elements: 26, memory size: 336
## Number of elements: 27, memory size: 336
## Number of elements: 28, memory size: 336
## Number of elements: 29, memory size: 336
## Number of elements: 30, memory size: 336</code></pre>
<p><strong>주의: <code>sys.getsizeof()</code>는 리스트의 각 원소가 참조하는 값에 할당된 메모리를 포함하지 않고, 단지 리스트 자체(각 원소의 주소값을 저장하는 시퀀스)에 할당된 메모리 크기만 나타낸다.</strong></p>
<p>이 예에서 <code>py_list</code>의 메모리 주소는 이전의 메모리 주소와 여전히 동일하다.</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb92-1"><a href="tuple-list-list.html#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="bu">id</span>(py_list)</span></code></pre></div>
<pre><code>## 4583487680</code></pre>
</div>
</div>
<div id="list-in-r" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> List in R<a href="tuple-list-list.html#list-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>R에 내장된 대표적인 시퀀스(sequence)형 자료 형태로는 vector와 list가 있는데, 이 중 파이썬의 tuple이나 list와 같이 각 원소의 형태가 다른 시퀀스를 제공하는 R의 시퀀스는 list이다.</p>
<p>위 파이썬의 예와 마찬가지로, 1에서 10까지의 원소값을 지니는 길이 10의 list를 생성해 보자.</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="tuple-list-list.html#cb94-1" aria-hidden="true" tabindex="-1"></a>r_list <span class="ot">&lt;-</span> <span class="fu">as.list</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb94-2"><a href="tuple-list-list.html#cb94-2" aria-hidden="true" tabindex="-1"></a>r_list</span></code></pre></div>
<pre><code>## [[1]]
## [1] 1
## 
## [[2]]
## [1] 2
## 
## [[3]]
## [1] 3
## 
## [[4]]
## [1] 4
## 
## [[5]]
## [1] 5
## 
## [[6]]
## [1] 6
## 
## [[7]]
## [1] 7
## 
## [[8]]
## [1] 8
## 
## [[9]]
## [1] 9
## 
## [[10]]
## [1] 10</code></pre>
<div id="mutable-object" class="section level3 hasAnchor" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> Mutable object<a href="tuple-list-list.html#mutable-object" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>이 list가 저장된 메모리 주소를 <code>pryr::address()</code>로 출력해 보자. 또한, 동일한 list 객체가 또 다른 이름으로 참조되고 있지 않은지를 보기 위해 <code>pryr::refs()</code>를 함께 호출해 보자. 이 값이 1인 경우(single binding)에는 modify-in-place 방식이 작동하여 원소값 변경 전/후의 list의 메모리 주소가 변경되지 않지만, 2 이상인 경우에는 copy-on-modify 방식이 작동하여 원소값 변경 시 list가 항상 다른 곳에 복사된 뒤 값이 변경된다.</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="tuple-list-list.html#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(pryr<span class="sc">::</span><span class="fu">address</span>(r_list), pryr<span class="sc">::</span><span class="fu">refs</span>(r_list))</span></code></pre></div>
<pre><code>## [1] &quot;0x7fd0c48ad828&quot; &quot;5&quot;</code></pre>
<p>이후, 첫 번째 원소의 값을 변경하려 시도해 보자. 이 때, 만약 앞에서 <code>pryr::refs(r_list)</code>의 값이 1보다 큰 수였다면, 메모리 주소가 변경될 것이다.</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="tuple-list-list.html#cb98-1" aria-hidden="true" tabindex="-1"></a>r_list[[<span class="dv">1</span>]] <span class="ot">&lt;-</span> 0L</span>
<span id="cb98-2"><a href="tuple-list-list.html#cb98-2" aria-hidden="true" tabindex="-1"></a>r_list[[<span class="dv">1</span>]]</span></code></pre></div>
<pre><code>## [1] 0</code></pre>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="tuple-list-list.html#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(pryr<span class="sc">::</span><span class="fu">address</span>(r_list), pryr<span class="sc">::</span><span class="fu">refs</span>(r_list))</span></code></pre></div>
<pre><code>## [1] &quot;0x7fd0c4846178&quot; &quot;1&quot;</code></pre>
<p>앞의 결과에서 원소값 변경 이후 <code>pryr::refs(r_list)</code>의 값이 1이었다면, 다시금 첫 번째 원소의 값(혹은 어떤 원소의 값이든)을 변경할 때 <code>r_list</code>의 메모리 주소는 동일하게 유지될 것이다.</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="tuple-list-list.html#cb102-1" aria-hidden="true" tabindex="-1"></a>r_list[[<span class="dv">1</span>]] <span class="ot">&lt;-</span> 1L</span>
<span id="cb102-2"><a href="tuple-list-list.html#cb102-2" aria-hidden="true" tabindex="-1"></a>r_list[[<span class="dv">1</span>]]</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="tuple-list-list.html#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(pryr<span class="sc">::</span><span class="fu">address</span>(r_list), pryr<span class="sc">::</span><span class="fu">refs</span>(r_list))</span></code></pre></div>
<pre><code>## [1] &quot;0x7fd0c4846178&quot; &quot;1&quot;</code></pre>
<p>이는 R의 list가 파이썬의 list처럼 modify-in-place를 지원하는 mutable object라는 것을 보여준다.</p>
<p><strong>주의: RStudio IDE 상에서 원소값을 변경할 때는 항상 copy-on-modify 방식이 작동하는데, 이는 RStudio IDE 내의 Environment 창에서 해당 list 객체를 추가로 참조하여 <code>pryr::refs()</code> 값이 항상 1보다 크기 때문이다. 따라서, mutable update는 인터랙티브 개발 환경으로부터 독립된 프로세스에서 작동할 것이다.</strong></p>
</div>
<div id="append-items-1" class="section level3 hasAnchor" number="3.2.2">
<h3><span class="header-section-number">3.2.2</span> Append items<a href="tuple-list-list.html#append-items-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>먼저, <code>r_list</code>의 내부 구조를 살펴보기 위해 <code>pryr::inspect()</code>를 호출해 보자.</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="tuple-list-list.html#cb106-1" aria-hidden="true" tabindex="-1"></a>pryr<span class="sc">::</span><span class="fu">inspect</span>(r_list)</span></code></pre></div>
<pre><code>## &lt;VECSXP 0x7fd0c4846178&gt;
##   &lt;INTSXP 0x7fd0c1de8070&gt;
##   &lt;INTSXP 0x7fd0c110fc48&gt;
##   &lt;INTSXP 0x7fd0c110fc10&gt;
##   &lt;INTSXP 0x7fd0c110fbd8&gt;
##   &lt;INTSXP 0x7fd0c110fba0&gt;
##   &lt;INTSXP 0x7fd0c110fb68&gt;
##   &lt;INTSXP 0x7fd0c110fb30&gt;
##   &lt;INTSXP 0x7fd0c110faf8&gt;
##   &lt;INTSXP 0x7fd0c110fac0&gt;
##   &lt;INTSXP 0x7fd0c110fa88&gt;</code></pre>
<p>이 결과는 <code>r_list</code>가 VECSXP라는 형태(list)의 C 객체이며, 그 각 원소는 INTSXP라는 형태(integer vector)의 C 객체임을 보여주고, VECSXP 객체와 각 INTSXP 객체가 저장된 메모리 주소를 보여준다.</p>
<p>파이썬의 list에서 새로운 원소를 추가하기 위해 <code>append()</code> method를 사용했던 것과 달리, R의 list에서는 기존 원소를 변경하는 것과 동일한 방법으로 새로운 원소를 추가할 수 있다.</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="tuple-list-list.html#cb108-1" aria-hidden="true" tabindex="-1"></a>r_list[[<span class="dv">11</span>]] <span class="ot">&lt;-</span> 11L</span>
<span id="cb108-2"><a href="tuple-list-list.html#cb108-2" aria-hidden="true" tabindex="-1"></a>r_list[[<span class="dv">11</span>]]</span></code></pre></div>
<pre><code>## [1] 11</code></pre>
<p>단, 이 때는 modify-in-place가 아닌 copy-on-modify 방식이 작동한다는 것을 인지하자. 다음에서 메모리 주소가 이전과 변경되었음을 확인할 수 있을 것이다.</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="tuple-list-list.html#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(pryr<span class="sc">::</span><span class="fu">address</span>(r_list), pryr<span class="sc">::</span><span class="fu">refs</span>(r_list))</span></code></pre></div>
<pre><code>## [1] &quot;0x7fd0b7c826d8&quot; &quot;1&quot;</code></pre>
<p>좀 더 자세히 살펴보기 위해 <code>pryr::inspect()</code>를 다시 호출해 보자.</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="tuple-list-list.html#cb112-1" aria-hidden="true" tabindex="-1"></a>pryr<span class="sc">::</span><span class="fu">inspect</span>(r_list)</span></code></pre></div>
<pre><code>## &lt;VECSXP 0x7fd0b7c826d8&gt;
##   &lt;INTSXP 0x7fd0c1de8070&gt;
##   &lt;INTSXP 0x7fd0c110fc48&gt;
##   &lt;INTSXP 0x7fd0c110fc10&gt;
##   &lt;INTSXP 0x7fd0c110fbd8&gt;
##   &lt;INTSXP 0x7fd0c110fba0&gt;
##   &lt;INTSXP 0x7fd0c110fb68&gt;
##   &lt;INTSXP 0x7fd0c110fb30&gt;
##   &lt;INTSXP 0x7fd0c110faf8&gt;
##   &lt;INTSXP 0x7fd0c110fac0&gt;
##   &lt;INTSXP 0x7fd0c110fa88&gt;
##   &lt;INTSXP 0x7fd0c5173f28&gt;</code></pre>
<p>VECSXP 객체의 메모리 주소는 변경된 반면, 하나의 추가된 INTSXP 객체를 제외하면, 기존에 있던 INTSXP 객체의 메모리 주소는 여전히 동일함을 보여준다. 그리고, <code>pryr::address(r_list)</code>가 보여주는 주소값은 VECSXP 객체의 주소값임을 보여준다.</p>
<p>원소를 계속 하나씩 추가하면서, list 메모리 위치가 어떻게 바뀌는지 살펴보자.</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="tuple-list-list.html#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (x <span class="cf">in</span> <span class="dv">12</span><span class="sc">:</span><span class="dv">30</span>) {</span>
<span id="cb114-2"><a href="tuple-list-list.html#cb114-2" aria-hidden="true" tabindex="-1"></a>  r_list[[x]] <span class="ot">&lt;-</span> x</span>
<span id="cb114-3"><a href="tuple-list-list.html#cb114-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(</span>
<span id="cb114-4"><a href="tuple-list-list.html#cb114-4" aria-hidden="true" tabindex="-1"></a>    glue<span class="sc">::</span><span class="fu">glue</span>(</span>
<span id="cb114-5"><a href="tuple-list-list.html#cb114-5" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;Number of elements: {length(r_list)}&quot;</span>,</span>
<span id="cb114-6"><a href="tuple-list-list.html#cb114-6" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;memory address: {pryr::address(r_list)}&quot;</span>,</span>
<span id="cb114-7"><a href="tuple-list-list.html#cb114-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">.sep =</span> <span class="st">&quot;, &quot;</span></span>
<span id="cb114-8"><a href="tuple-list-list.html#cb114-8" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb114-9"><a href="tuple-list-list.html#cb114-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb114-10"><a href="tuple-list-list.html#cb114-10" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## Number of elements: 12, memory address: 0x7fd0b7cd0778
## Number of elements: 13, memory address: 0x7fd0c4b99338
## Number of elements: 14, memory address: 0x7fd0c4b991d8
## Number of elements: 15, memory address: 0x7fd0c4b99078
## Number of elements: 16, memory address: 0x7fd0c4b98f18
## Number of elements: 17, memory address: 0x600002680b40
## Number of elements: 18, memory address: 0x600002680c00
## Number of elements: 19, memory address: 0x600002886ff0
## Number of elements: 20, memory address: 0x600002ad55e0
## Number of elements: 21, memory address: 0x600002ad55e0
## Number of elements: 22, memory address: 0x600002cef2a0
## Number of elements: 23, memory address: 0x600002cef2a0
## Number of elements: 24, memory address: 0x600002fddf00
## Number of elements: 25, memory address: 0x600002fddf00
## Number of elements: 26, memory address: 0x7fd0d27c4ee0
## Number of elements: 27, memory address: 0x7fd0d27c4ee0
## Number of elements: 28, memory address: 0x7fd0c204ccf0
## Number of elements: 29, memory address: 0x7fd0c204ccf0
## Number of elements: 30, memory address: 0x7fd0c204dac0</code></pre>
<p>R list의 경우, 원소 개수가 하나씩 증가할 때마다 메모리 주소가 변경됨을 확인할 수 있을 것이다. 즉, list의 길이가 변경될 때마다 매번 새로 list를 위한 메모리가 재할당되기 때문에 python의 list보다 컴퓨팅 리소스가 좀 더 소모되며, 그 정도는 list의 길이가 길수록 증가할 것이다. 다만, 앞에서 살펴본 바와 같이 VECSXP 객체의 메모리는 재할당되는 반면, 각 원소값이 저장된 메모리는 그대로 유지되어 참조되므로, 추가적인 컴퓨팅은 제한적이라 하겠다.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="dictionary-named-list-environment.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="array-vector.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
